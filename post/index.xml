<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type="text/xsl" href="https://codebeautiful.gitee.io/xml/base.min.xml" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on 通通不同-博客</title>
    <link>https://codebeautiful.gitee.io/post/</link>
    <description>Recent content in Posts on 通通不同-博客</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>cn-zh</language>
    <lastBuildDate>Fri, 31 Mar 2023 15:18:50 +0800</lastBuildDate>
    <atom:link href="https://codebeautiful.gitee.io/post/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>解决UINavigationController 滑动UIScrollView出现白边问题</title>
      <link>https://codebeautiful.gitee.io/post/uinavigationcontroller_scrollview_whiten/</link>
      <pubDate>Fri, 31 Mar 2023 15:18:50 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/uinavigationcontroller_scrollview_whiten/</guid>
      <description>&lt;h3 id=&#34;问题描述&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/uinavigationcontroller_scrollview_whiten/#%e9%97%ae%e9%a2%98%e6%8f%8f%e8%bf%b0&#34;&gt;问题描述&lt;/a&gt;
&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;开发过程中出现ScrollView滑动会会使NavigationBar出现白边问题&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;正常情况
&lt;img src=&#34;https://codebeautiful.gitee.io/images/UINavigationWhiten1.png&#34; alt=&#34;正常情况&#34;&gt;&lt;/li&gt;
&lt;li&gt;异常情况
&lt;img src=&#34;https://codebeautiful.gitee.io/images/UINavigationWhiten2.png&#34; alt=&#34;正常情况&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;解决方法&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/uinavigationcontroller_scrollview_whiten/#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95&#34;&gt;解决方法&lt;/a&gt;
&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;在iOS13版本之后添加以下代码可以解决该问题，代码放到第一个UIControllerView的viewDidLoad方法中&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;#available&lt;/span&gt;(&lt;span style=&#34;color:#75715e&#34;&gt;iOS&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;13.0&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; apperance = UINavigationBarAppearance()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  apperance.backgroundColor = UIColor.black
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;self&lt;/span&gt;.navigationController?.navigationBar.standardAppearance = apperance
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
    </item>
    <item>
      <title>iOS开发取消UINavigationController返回按钮的问题和自定义按钮颜色</title>
      <link>https://codebeautiful.gitee.io/post/storyboard_uinavigation_back_cancel/</link>
      <pubDate>Fri, 31 Mar 2023 14:20:40 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/storyboard_uinavigation_back_cancel/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如图修改BackButton属性值给一个空格回车
&lt;img src=&#34;https://codebeautiful.gitee.io/images/UINavigationItem1.png&#34; alt=&#34;设置Back按钮&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;接下来会发现Navigation Item下会有一个新的控件出现，如图
&lt;img src=&#34;https://codebeautiful.gitee.io/images/UINavigationItem2.png&#34; alt=&#34;设置按钮颜色&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;选中该组件Bar Button Item，修改相关属性值
其中Tint属性就是修改按钮颜色值&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    <item>
      <title>swift 使用 @available 或 #available</title>
      <link>https://codebeautiful.gitee.io/post/swift_available/</link>
      <pubDate>Thu, 30 Mar 2023 17:06:01 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/swift_available/</guid>
      <description>
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;if #available(iOS 14, *) {
  print(&amp;#34;This code only runs on iOS 14 and up&amp;#34;)
} else {
  print(&amp;#34;This code only runs on iOS 13 and lower&amp;#34;)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在 guard 语句中使用 available 属性：&lt;/p&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;guard #available(iOS 14, *) else {
  print(&amp;#34;Returning if iOS 13 or lower&amp;#34;)
  return
}&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;available和available之间的区别&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/swift_available/#available%e5%92%8cavailable%e4%b9%8b%e9%97%b4%e7%9a%84%e5%8c%ba%e5%88%ab&#34;&gt;@available和#available之间的区别&lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;@available: 用于标记类或方法的可用性&lt;/p&gt;
&lt;p&gt;#available: 用于仅针对特定平台或版本执行一段代码&lt;/p&gt;
&lt;p&gt;设置类或方法的可用性&lt;/p&gt;
&lt;p&gt;@available(iOS 14, *)
final class NewAppIntroduction {
// ..
}&lt;/p&gt;
&lt;p&gt;if #available(iOS 14, *) {
let appIntroduction = NewAppIntroduction()
} else {
// .. use the old app introduction
}
我们可以使用@available属性对方法进行完全相同的操作：&lt;/p&gt;
&lt;p&gt;@available(iOS 14, *)
func launchNewAppIntroduction() {
let appIntroduction = NewAppIntroduction()
}&lt;/p&gt;
&lt;p&gt;@available(iOS 14, macOS 11.0, *)
func launchNewAppIntroduction() {
let appIntroduction = NewAppIntroduction()
}&lt;/p&gt;
&lt;h2 id=&#34;将方法标记为已弃用或过时&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/swift_available/#%e5%b0%86%e6%96%b9%e6%b3%95%e6%a0%87%e8%ae%b0%e4%b8%ba%e5%b7%b2%e5%bc%83%e7%94%a8%e6%88%96%e8%bf%87%e6%97%b6&#34;&gt;将方法标记为已弃用或过时&lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;另一个属性值用于将方法标记为已弃用或已废弃&lt;/p&gt;
&lt;p&gt;@available(iOS, deprecated: 12, obsoleted: 13, message: &amp;ldquo;We no longer show an app introduction on iOS 14 and up&amp;rdquo;)
func launchAppIntroduction() {
// ..
}&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Swift 自定义UITableView左滑删除样式</title>
      <link>https://codebeautiful.gitee.io/post/swift_tableview_delete_style/</link>
      <pubDate>Thu, 30 Mar 2023 16:44:09 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/swift_tableview_delete_style/</guid>
      <description>
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-swift&#34; data-lang=&#34;swift&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;@available(iOS &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tableView&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;_&lt;/span&gt; tableView: UITableView, trailingSwipeActionsConfigurationForRowAt indexPath: IndexPath) -&amp;gt; UISwipeActionsConfiguration? {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; deleteRowAction = UIContextualAction.&lt;span style=&#34;color:#66d9ef&#34;&gt;init&lt;/span&gt;(style: UIContextualAction.Style.destructive, title: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;DELETE&amp;#34;&lt;/span&gt;) {(action: UIContextualAction , sourceView: UIView, completionHandle: (Bool) -&amp;gt; Void) &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    my_log(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;delete click&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  deleteRowAction.image = UIImage(named: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;delete&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  deleteRowAction.backgroundColor = UIColor(hexString: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;FE9B02&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;let&lt;/span&gt; config = UISwipeActionsConfiguration.&lt;span style=&#34;color:#66d9ef&#34;&gt;init&lt;/span&gt;(actions: [deleteRowAction])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; config
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
    </item>
    <item>
      <title>各个平台的内置宏定义</title>
      <link>https://codebeautiful.gitee.io/post/platform_define/</link>
      <pubDate>Tue, 28 Mar 2023 19:24:03 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/platform_define/</guid>
      <description>&lt;h3 id=&#34;windows&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/platform_define/#windows&#34;&gt;Windows&lt;/a&gt;
&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;WIN32、_WIN32、&lt;em&gt;WIN32&lt;/em&gt;、WIN64、_WIN64、&lt;em&gt;WIN64&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;android&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/platform_define/#android&#34;&gt;Android&lt;/a&gt;
&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ANDROID、&lt;strong&gt;ANDROID&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;linux&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/platform_define/#linux&#34;&gt;Linux&lt;/a&gt;
&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;linux&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;iosmac&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/platform_define/#iosmac&#34;&gt;iOS/Mac&lt;/a&gt;
&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;APPLE&lt;/strong&gt;、TARGET_OS_IPHONE、TARGET_IPHONE_SIMULATOR、TARGET_OS_MAC&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;代码判断&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/platform_define/#%e4%bb%a3%e7%a0%81%e5%88%a4%e6%96%ad&#34;&gt;代码判断&lt;/a&gt;
&lt;/h2&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#if defined(WIN32) || defined(_WIN32) || defined(_WIN32_) || defined(WIN64) || defined(_WIN64) || defined(_WIN64_)
#define OS_WINDOWS       1
#elif defined(ANDROID) || defined(__ANDROID__)
#define OS_ANDROID       1
#elif defined(__linux__)
#define OS_LINUX	         1
#elif defined(__APPLE__) || defined(TARGET_OS_IPHONE) || defined(TARGET_IPHONE_SIMULATOR) || defined(TARGET_OS_MAC)
#define OS_IOS           1
#else
#define OS_UNKNOWN 1
#endif&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    <item>
      <title>桌面软件数据存放路径</title>
      <link>https://codebeautiful.gitee.io/post/program_data_directory/</link>
      <pubDate>Wed, 22 Mar 2023 22:39:52 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/program_data_directory/</guid>
      <description>&lt;h2 id=&#34;windows下程序数据存放目录&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/program_data_directory/#windows%e4%b8%8b%e7%a8%8b%e5%ba%8f%e6%95%b0%e6%8d%ae%e5%ad%98%e6%94%be%e7%9b%ae%e5%bd%95&#34;&gt;windows下程序数据存放目录&lt;/a&gt;
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;C:\Users\用户名\AppData \Roaming,
通过环境变量%AppData%可以访问,这里用来存放当前登录用户所产生的数据，
对其他的用户不可见。如果你在公司网络,加入了域,这个文件夹会通过网路同步，
让你的数据在不同的计算机上漫游。该目录常被滥用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;C:\Users\用户名\AppData \Local,
通过环境变量%LocalAppData%可以访问，
这个目录和上面的基本- -样,不过仅限本地,加入了域也不会同步。
-般情况下，如果不加入域，Roaming和Local并没有什么区别，
但是需要网络同步的时候,尽量把不必要的数据留在本地。
个人使用的软件可以装在C:\Users\用户名\AppData\Local/\Programs下面。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;C:\ProgramData,
和AppData的区别在于,这里存放的数据是公用的,
如果你希望软件的数据在所有的用户之间保持一致,
那么程序生成的数据应当存放在这里。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;macos-app程序数据存放目录&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/program_data_directory/#macos-app%e7%a8%8b%e5%ba%8f%e6%95%b0%e6%8d%ae%e5%ad%98%e6%94%be%e7%9b%ae%e5%bd%95&#34;&gt;macOS App程序数据存放目录&lt;/a&gt;
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;/Users/用户名/Library/Application Support&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    <item>
      <title>linux创建新用户</title>
      <link>https://codebeautiful.gitee.io/post/linux_create_user/</link>
      <pubDate>Tue, 21 Mar 2023 15:23:06 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/linux_create_user/</guid>
      <description>
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;useradd -d /home/test -m test&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;useradd：创建新用户&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;-d 指定目录文件夹&lt;/li&gt;
&lt;li&gt;-m 新账号名&lt;/li&gt;
&lt;li&gt;-c comment 指定一段注释性描述&lt;/li&gt;
&lt;li&gt;-d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录&lt;/li&gt;
&lt;li&gt;-g 用户组 指定用户所属的用户组&lt;/li&gt;
&lt;li&gt;-G 用户组，用户组 指定用户所属的附加组&lt;/li&gt;
&lt;li&gt;-s Shell文件 指定用户的登录Shell&lt;/li&gt;
&lt;li&gt;-u 用户号 指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;设置密码&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/linux_create_user/#%e8%ae%be%e7%bd%ae%e5%af%86%e7%a0%81&#34;&gt;设置密码&lt;/a&gt;
&lt;/h1&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;passwd test&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;会提示你输入两次密码&lt;/p&gt;
&lt;h1 id=&#34;删除账号&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/linux_create_user/#%e5%88%a0%e9%99%a4%e8%b4%a6%e5%8f%b7&#34;&gt;删除账号&lt;/a&gt;
&lt;/h1&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;userdel test&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    <item>
      <title>服务器运维监控命令汇总</title>
      <link>https://codebeautiful.gitee.io/post/system_monitor/</link>
      <pubDate>Tue, 21 Mar 2023 14:25:13 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/system_monitor/</guid>
      <description>&lt;h1 id=&#34;who命令&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/system_monitor/#who%e5%91%bd%e4%bb%a4&#34;&gt;who命令&lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;输出信息包括 用户名，终端类型，登录日期，访问IP
-H 打印列标题
-b 查看上次启动时间&lt;/p&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;who [-H|-b]
who [-H|-b] /var/log/wtmp&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;查看命令历史&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/system_monitor/#%e6%9f%a5%e7%9c%8b%e5%91%bd%e4%bb%a4%e5%8e%86%e5%8f%b2&#34;&gt;查看命令历史&lt;/a&gt;
&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;每个用户都有一份命令历史记录&lt;/li&gt;
&lt;li&gt;查看$HOME/.bash_history&lt;/li&gt;
&lt;li&gt;或者在终端输入： history&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;last命令&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/system_monitor/#last%e5%91%bd%e4%bb%a4&#34;&gt;last命令&lt;/a&gt;
&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;查看用户登录历史&lt;/li&gt;
&lt;li&gt;命令会读取 /var/log/wtmp文件；&lt;/li&gt;
&lt;li&gt;/var/log/btmp可以显示远程登陆信息。&lt;/li&gt;
&lt;li&gt;last默认打印所有用户的登陆信息。&lt;/li&gt;
&lt;li&gt;如果想打印某个用户的登陆信息，可以使用&lt;/li&gt;
&lt;li&gt;last 用户名&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;选项：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;（1）-x：显示系统开关机以及执行等级信息&lt;/li&gt;
&lt;li&gt;（2）-a：将登陆ip显示在最后一行&lt;/li&gt;
&lt;li&gt;（3）-f ：读取特定文件，可以选择 -f /var/log/btmp文件&lt;/li&gt;
&lt;li&gt;（4）-d：将IP地址转换为主机名&lt;/li&gt;
&lt;li&gt;（5）-n：设置列出名单的显示列数&lt;/li&gt;
&lt;li&gt;（6）-t：查看指定时间的用户登录历史&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;lastlog命令&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/system_monitor/#lastlog%e5%91%bd%e4%bb%a4&#34;&gt;lastlog命令&lt;/a&gt;
&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;查看所有用户最近一次登录历史&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;命令将读取/var/log/lastlog文件；用户排列顺序按照/etc/passwd中的顺序&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;选项：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;（1） -u：查看某个用户的最后一次登陆历史&lt;/li&gt;
&lt;li&gt;（2） -t：查看最近几天之内的用户登录历史&lt;/li&gt;
&lt;li&gt;（3） -b：查看指定天数之前的用户登录历史&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;ac命令&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/system_monitor/#ac%e5%91%bd%e4%bb%a4&#34;&gt;ac命令&lt;/a&gt;
&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;根据/var/log/wtmp文件中的登陆和退出时间报告用户连接的时间（小时），默认输出报告总时间&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;（1）-p：显示每个用户的连接时间&lt;/li&gt;
&lt;li&gt;（2）-d：显示每天的连接时间&lt;/li&gt;
&lt;li&gt;（3）-y：显示年份，和-d配合使用&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    <item>
      <title>Supervisor管理GO程序</title>
      <link>https://codebeautiful.gitee.io/post/supervisor/</link>
      <pubDate>Tue, 21 Mar 2023 14:04:34 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/supervisor/</guid>
      <description>&lt;h3 id=&#34;安装&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/supervisor/#%e5%ae%89%e8%a3%85&#34;&gt;安装&lt;/a&gt;
&lt;/h3&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;apt-get install supervisor&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;使用说明&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/supervisor/#%e4%bd%bf%e7%94%a8%e8%af%b4%e6%98%8e&#34;&gt;使用说明&lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;supervisor配置文件：/etc/supervisor/supervisord.conf
子进程配置文件路径：/etc/supervisor/conf.d/&lt;/p&gt;
&lt;h3 id=&#34;常用命令说明&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/supervisor/#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4%e8%af%b4%e6%98%8e&#34;&gt;常用命令说明&lt;/a&gt;
&lt;/h3&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看所有进程的状态&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;supervisorctl status
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 停止iot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;supervisorctl stop iot
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 启动iot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;supervisorctl start iot
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 重启iot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;supervisorctl restart iot
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 配置文件修改后使用该命令加载新的配置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;supervisorctl update
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 重新启动配置中的所有程序&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;supervisorctl reload&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;配置go进程&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/supervisor/#%e9%85%8d%e7%bd%aego%e8%bf%9b%e7%a8%8b&#34;&gt;配置GO进程&lt;/a&gt;
&lt;/h3&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-conf&#34; data-lang=&#34;conf&#34;&gt;[program:iot]
# 脚本目录
directory=/opt/iot
# 脚本执行命令
command=/opt/iot/main
# 日志输出
stdout_logfile=/opt/iot/supervisor/main.log
# supervisor启动的时候是否随着同时启动，默认True
autostart=true
autorestart=true
startsecs=5
priority=1
stopasgroup=true
killasgroup=true&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;常见问题&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/supervisor/#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98&#34;&gt;常见问题&lt;/a&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;unix:///var/run/supervisor.sock no such file&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;问题描述：安装好supervisor没有开启服务直接使用supervisorctl报的错&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;解决办法：supervisord -c /etc/supervisord.conf&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;command中指定的进程已经起来，但supervisor还不断重启&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;问题描述：command中启动方式为后台启动，导致识别不到pid，然后不断重启，这里使用的是elasticsearch，command指定的是$path/bin/elasticsearch -d&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;解决办法：supervisor无法检测后台启动进程的pid，而supervisor本身就是后台启动守护进程，因此不用担心这个&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;启动了多个supervisord服务，导致无法正常关闭服务&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;问题描述：在运行supervisord -c /etc/supervisord.conf之前，直接运行过supervisord -c /etc/supervisord.d/xx.conf导致有些进程被多个superviord管理，无法正常关闭进程。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;解决办法：使用ps -fe | grep supervisord查看所有启动过的supervisord服务，kill相关的进程。&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    <item>
      <title>配置博客文档</title>
      <link>https://codebeautiful.gitee.io/post/config/</link>
      <pubDate>Sat, 11 Mar 2023 23:16:37 +0800</pubDate>
      <guid>https://codebeautiful.gitee.io/post/config/</guid>
      <description>&lt;h3 id=&#34;安装&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/config/#%e5%ae%89%e8%a3%85&#34;&gt;安装&lt;/a&gt;
&lt;/h3&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ brew install hugo&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;生成博客&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/config/#%e7%94%9f%e6%88%90%e5%8d%9a%e5%ae%a2&#34;&gt;生成博客&lt;/a&gt;
&lt;/h3&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ hugo new site myblog&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;安装皮肤&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/config/#%e5%ae%89%e8%a3%85%e7%9a%ae%e8%82%a4&#34;&gt;安装皮肤&lt;/a&gt;
&lt;/h3&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ cd themes
$ git clone https://github.com/de-souza/hugo-flex.git&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;创建文章&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/config/#%e5%88%9b%e5%bb%ba%e6%96%87%e7%ab%a0&#34;&gt;创建文章&lt;/a&gt;
&lt;/h3&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ hugo new post/config.md&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;运行hugo&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/config/#%e8%bf%90%e8%a1%8chugo&#34;&gt;运行hugo&lt;/a&gt;
&lt;/h3&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;hugo server -D --theme=hugo-flex --buildDrafts&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;部署&#34;&gt;
  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;https://codebeautiful.gitee.io/post/config/#%e9%83%a8%e7%bd%b2&#34;&gt;部署&lt;/a&gt;
&lt;/h3&gt;

&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;hugo --theme=hugo-flex --baseUrl=&amp;#34;http://ttbt.work&amp;#34; --buildDrafts

hugo --theme=hugo-flex --baseUrl=&amp;#34;https://codebeautiful.gitee.io&amp;#34; --buildDrafts&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
  </channel>
</rss>
